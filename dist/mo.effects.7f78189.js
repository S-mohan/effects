!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MoEffects=t():e.MoEffects=t()}(window,(function(){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=2)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.engine=function(e,t,a,r){void 0===a&&(a=n.Tween.linear);var i,o=performance.now(),c=function(){i=requestAnimationFrame(l)},l=function(n){var l=(n-o)/t;if(l>1)e(1),r&&r(),cancelAnimationFrame(i);else{var s=a(l);e(s),c()}};return c},t.default=t.engine},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.linear=function(e){return e},e.quadraticIn=function(e){return e*e},e.quadraticOut=function(e){return e*(2-e)},e.quadraticInOut=function(e){return(e*=2)<1?e*e*.5:-.5*(--e*(e-2)-1)},e}();t.Tween=n,t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=a(1),i=a(3),o=["PullInUp","PullInDown","PullInLeft","PullInRight","ZoomIn","ZommInX","ZoomInY","SlideInUp","SlideInDown","SlideInLeft","SlideInRight","PressInUp","PressInDown","PressInLeft","PressInRight","PressInX","PressInY","UncoverFromTop","UncoverFromBottom","ShutterX","ShutterY","ZoomFullScreen","Wheel","Tooth","FadeIn","FadeOut","StackInTop","StackInBottom","StackInLeft","StackInRight","TopLaser","BottomLaser","RightLaser","LeftLaser"],c={type:"FadeIn",duration:0,width:500,height:500,easing:r.default.linear},l=new Map,s=function(){function e(){}return e.animate=function(e,t,a){void 0===a&&(a=c);var n,s=function(e,t,a,n){void 0===t&&(t=e.offsetWidth),void 0===a&&(a=e.offsetHeight),n.width=t,n.height=a;var r=e.__effect_wrap__;return r||(r=e.__effect_wrap__=document.createElement("figure"),e.appendChild(r)),r.style.cssText+="display:block;width:"+t+"px;height:"+a+"px;position:relative;margin:0;padding:0;overflow:hidden;",r}(e,(a=Object.assign({},c,a)).width,a.height,a);(n=t,new Promise((function(e){if(l.has(n)&&e(l.get(n)),"string"==typeof n){var t=new Image;t.crossOrigin="",t.src=n,t.onload=function(){l.set(n,this),e(this)},t.onerror=function(){return e(null)}}else if(n instanceof File){var a=new FileReader;a.readAsDataURL(n),a.onload=function(t){var a=new Image;a.src=t.target.result,l.set(n,a),e(a)}}else l.set(n,n),e(n)}))).then((function(e){!function(e,t,a){var n=a.type,c=a.width,l=a.height,s=a.duration,u=a.easing;"Random"!==n&&o.includes(n)||(n=o[Math.floor(Math.random()*o.length)]);var f,d={$el:e,img:t,width:c,height:l,duration:s,type:n,easing:"string"==typeof u&&r.default[u]?r.default[u]:r.default.linear};switch(n){case"PullInUp":case"PullInDown":case"PullInLeft":case"PullInRight":case"ZoomIn":case"ZommInX":case"ZoomInY":case"SlideInUp":case"SlideInDown":case"SlideInLeft":case"SlideInRight":case"PressInUp":case"PressInDown":case"PressInLeft":case"PressInRight":case"PressInX":case"PressInY":f=i.animatePullAndSlider(d);break;case"UncoverFromTop":case"UncoverFromBottom":f=i.animateUncover(d);break;case"ShutterX":case"ShutterY":f=i.animateShutter(d);break;case"ZoomFullScreen":f=i.animateZoomFullScreen(d);break;case"Wheel":f=i.animateWheel(d);break;case"Tooth":f=i.animateTooth(d);break;case"FadeIn":case"FadeOut":f=i.animateFade(d);break;case"StackInTop":case"StackInBottom":case"StackInLeft":case"StackInRight":case"TopLaser":case"BottomLaser":case"RightLaser":case"LeftLaser":f=i.animateStackIn(d)}f&&f()}(s,e,a)}))},e.destroy=function(){l.clear()},e.engine=n.engine,e.Tween=r.default,e}();t.Effect=s,t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=window.devicePixelRatio||1,i=function(e,t){var a=r/1;return{RW:e*a|0,RH:t*a|0}},o=function(e,t,a){var n=document.createElement("canvas"),r=i(e,t),o=r.RW,c=r.RH;(n.width=o,n.height=c,n.style.width=e+"px",n.style.height=t+"px",a)&&n.getContext("2d").drawImage(a,0,0,o,c);return n};t.fillCanvasBeforePlay=function(e,t,a,n){var r=o(t,a,n);return e.innerHTML="",e.appendChild(r),r};var c=function(e,t,a,n){var r,i="left top";switch(e){case"PullInUp":r="left bottom",i="scale(1, "+t+")";break;case"PullInDown":r="left top",i="scale(1, "+t+")";break;case"PullInLeft":r="right top",i="scale("+t+", 1)";break;case"PullInRight":r="left top",i="scale("+t+", 1)";break;case"ZoomIn":r="center center",i="scale("+t+")";break;case"ZommInX":r="center center",i="scale("+t+", 1)";break;case"ZoomInY":r="center center",i="scale(1, "+t+")";break;case"SlideInUp":r="left top",i="translate(0, "+(1-t)*n+"px)";break;case"SlideInDown":r="left top",i="translate(0, "+-1*(1-t)*n+"px)";break;case"SlideInRight":r="left top",i="translate("+-1*(1-t)*a+"px, 0)";break;case"SlideInLeft":r="left top",i="translate("+(1-t)*a+"px, 0)";break;case"PressInUp":r="top left",i="scale(1, "+(1+15*(1-t))+")";break;case"PressInDown":r="bottom left",i="scale(1, "+(1+15*(1-t))+")";break;case"PressInLeft":r="top left",i="scale("+(1+15*(1-t))+", 1)";break;case"PressInRight":r="top right",i="scale("+(1+15*(1-t))+", 1)";break;case"PressInX":r="center center",i="scale("+(1+15*(1-t))+", 1)";break;case"PressInY":r="center center",i="scale(1, "+(1+15*(1-t))+")"}return"transform-origin:"+r+"; transform:"+i+";"};t.animatePullAndSlider=function(e){var a=e.$el,r=e.width,i=e.height,o=e.img,l=e.duration,s=e.easing,u=e.type,f=t.fillCanvasBeforePlay(a,r,i,o);f.style.cssText+=c(u,0,r,i);return n.engine((function(e){return f.style.cssText+=c(u,e,r,i)}),l,s)},t.animateFade=function(e){var a=e.$el,r=e.width,i=e.height,o=e.img,c=e.duration,l=e.easing,s=e.type,u=t.fillCanvasBeforePlay(a,r,i,o),f="FadeIn"===s;u.style.opacity=f?"0":"1";return n.engine((function(e){return u.style.opacity=f?""+e:""+(1-e)}),c,l,(function(){u.style.opacity=""}))},t.animateShutter=function(e){var a=e.$el,r=e.width,c=e.height,l=e.img,s=e.duration,u=e.easing,f=e.type,d=t.fillCanvasBeforePlay(a,r,c).getContext("2d"),g=o(r,c,l),h=g.getContext("2d"),m=i(r,c),p=m.RW,I=m.RH,v="ShutterX"===f,P=Math.ceil((v?I:p)/20);return n.engine((function(e){d.clearRect(0,0,p,I);for(var t=0;t<20;t++){var a=t*P,n=e*P,r=v?0:a,i=v?a:0,o=v?p:n,c=v?n:I;if(n>=1){var l=h.getImageData(r,i,o,c);d.putImageData(l,r,i)}}}),s,u,(function(){g=null,h=null}))},t.animateUncover=function(e){var a=e.$el,r=e.width,c=e.height,l=e.img,s=e.duration,u=e.easing,f=e.type,d=t.fillCanvasBeforePlay(a,r,c,l).getContext("2d"),g=o(r,c,l),h=g.getContext("2d"),m=o(r,c),p=m.getContext("2d"),I=i(r,c),v=I.RW,P=I.RH,b=function(e,t){for(var a=0,n=e.height;a<n;a++)for(var r=0,i=e.width;r<i;r++)t.data[a*i*4+4*r+0]=e.data[(n-a)*i*4+4*r+0],t.data[a*i*4+4*r+1]=e.data[(n-a)*i*4+4*r+1],t.data[a*i*4+4*r+2]=e.data[(n-a)*i*4+4*r+2],t.data[a*i*4+4*r+3]=e.data[(n-a)*i*4+4*r+3];return t}(h.getImageData(0,0,v,P),h.getImageData(0,0,v,P));p.putImageData(b,0,0);var y="UncoverFromTop"===f;return n.engine((function(e){d.clearRect(0,0,v,P);var t=e*P,a=y?P-t-30:t+30;a=Math.max(0,Math.min(a,P-30));var n=p.getImageData(0,a,v,30);if(d.putImageData(n,0,y?t-1:P-t-30),t>=1){var r=h.getImageData(0,y?0:P-t,v,t);d.putImageData(r,0,y?0:P-t)}}),s,u,(function(){g=null,h=null,m=null,p=null}))},t.animateWheel=function(e){var a=e.$el,r=e.width,c=e.height,l=e.img,s=e.duration,u=e.easing,f=t.fillCanvasBeforePlay(a,r,c).getContext("2d"),d=o(r,c,l),g=f.createPattern(d,"no-repeat"),h=i(r,c),m=h.RW,p=h.RH,I=Math.sqrt(Math.pow(m,2)+Math.pow(p,2))/2;f.fillStyle=g;var v=2*Math.PI,P=Math.PI/-2;return n.engine((function(e){f.clearRect(0,0,m,p),f.beginPath(),f.moveTo(m/2,p/2);var t=v*e-Math.PI/2;f.arc(m/2,p/2,I,P,t,!1),f.fill()}),s,u,(function(){d=null}))},t.animateTooth=function(e){var a=e.$el,r=e.width,c=e.height,l=e.img,s=e.duration,u=e.easing,f=t.fillCanvasBeforePlay(a,r,c).getContext("2d"),d=o(r,c,l),g=d.getContext("2d"),h=i(r,c),m=h.RW,p=h.RH,I=Math.ceil(m/8);return n.engine((function(e){if(f.clearRect(0,0,m,p),0!==e)for(var t=0;t<8;t++){var a=t*I,n=e*p;if(!(n<1)){var r=void 0,i=void 0;t%2==0?(r=0,i=p-n):(r=p-n,i=0);var o=g.getImageData(a,r,I,n);f.putImageData(o,a,i)}}}),s,u,(function(){d=null,g=null}))},t.animateZoomFullScreen=function(e){var a=e.$el,r=e.width,c=e.height,l=e.img,s=e.duration,u=e.easing,f=t.fillCanvasBeforePlay(a,r,c).getContext("2d"),d=o(r,c,l),g=d.getContext("2d"),h=i(r,c),m=h.RW,p=h.RH,I=m/2;return n.engine((function(e){f.clearRect(0,0,m,p);var t=e*I,a=p*e;if(!(a<1)){var n=I,r=p-a,i=g.getImageData(m-t,0,t+1,a+1);f.putImageData(i,n,r);var o=I-e*I,c=p-a,l=g.getImageData(0,0,t+1,a+1);f.putImageData(l,o,c)}}),s,u,(function(){d=null,g=null}))},t.animateStackIn=function(e){var a=e.$el,r=e.width,c=e.height,l=e.img,s=e.duration,u=e.easing,f=e.type,d=t.fillCanvasBeforePlay(a,r,c).getContext("2d"),g=i(r,c),h=g.RW,m=g.RH,p=r,I=c;switch(f){case"StackInTop":case"StackInBottom":I=4*m;break;case"TopLaser":case"BottomLaser":I=25*m;break;case"StackInLeft":case"StackInRight":p=4*h;break;case"LeftLaser":case"RightLaser":p=25*h}var v=o(p,I,l),P=v.getContext("2d"),b=i(p,I);p=b.RW,I=b.RH;var y=p>h,w=I>m;return n.engine((function(e){var t,a,n,r,i,o,c,l;d.clearRect(0,0,h,m);var s=!1,u=!1;if(0!==e){switch(f){case"StackInLeft":case"RightLaser":n=p*e,c=h*e,r=I,l=m,t=0,a=0,i=0,o=0,s=!0;break;case"StackInRight":case"LeftLaser":r=I,l=m,t=p-(n=p*e),a=0,i=h-(c=h*e),o=0;break;case"StackInTop":case"BottomLaser":n=p,c=h,r=I*e,l=m*e,t=0,a=0,i=0,o=0,u=!0;break;case"StackInBottom":case"TopLaser":n=p,c=h,t=0,a=I-(r=I*e),i=0,o=m-(l=m*e)}if(d.drawImage(v,t,a,n,r,i,o,c,l),y){var g=p-n,b=s?p-g:0,S=s?c:i-t,k=P.getImageData(b,0,g+1,m);d.putImageData(k,S,0)}else if(w){var R=I-r,x=u?I-R:0,L=u?l:o-a;k=P.getImageData(0,x,h,R+1);d.putImageData(k,0,L)}}}),s,u,(function(){v=null,P=null}))}}]).default}));